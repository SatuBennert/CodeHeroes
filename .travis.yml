language: java

# this will make travis use java 1.8.xxx
jdk:
- oraclejdk8


# google chrome for cucumber-selenium testing
addons:
    apt:
    sources:
       - google-chrome
    packages:
    - google-chrome-stable

before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 # give xvfb some time to start

after_success:
- ./gradlew jacocoTestReport coveralls

deploy:
  provider: heroku
  api_key:
    secure: "d11dcc23-39fd-4020-b00a-2b25b10db3af"
  app: codeheroes